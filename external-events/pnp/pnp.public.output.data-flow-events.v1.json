{
  "$id" : "pnp.public.output.data-flow-events.v1",
  "$schema" : "https://json-schema.org/draft/2019-09/schema",
  "$ref" : "#/definitions/record:hiiretail.contracts.observability.DataFlowObservabilityEvent",
  "title" : "HiiRetail Data Flow Observability Events",
  "description" : "Internal events produced as data flows through the processing services.",
  "definitions" : {
    "record:hiiretail.contracts.observability.DataFlowObservabilityEvent" : {
      "description" : "The DataFlowObservabilityEvent is used to produce an observability input for one unique entity of any type. The input will typically be used to make sure the entity ends up where it is supposed to. All systems in Hii Retail consuming, producing or distributing Master Data MUST report to the Data Flow Observability Service.",
      "type" : "object",
      "required" : [ "id", "searchId", "tenantId", "correlationId", "businessUnitId", "businessUnitGroupId", "entityId", "entityType", "origin", "originType", "timestamp", "sequenceId", "reason" ],
      "additionalProperties" : false,
      "properties" : {
        "id" : {
          "type" : "string"
        },
        "searchId" : {
          "type" : "string"
        },
        "tenantId" : {
          "type" : "string"
        },
        "correlationId" : {
          "type" : "string"
        },
        "businessUnitId" : {
          "oneOf" : [ {
            "type" : "null"
          }, {
            "type" : "string"
          } ]
        },
        "businessUnitGroupId" : {
          "oneOf" : [ {
            "type" : "null"
          }, {
            "type" : "string"
          } ]
        },
        "entityId" : {
          "type" : "string"
        },
        "entityType" : {
          "type" : "string"
        },
        "origin" : {
          "type" : "string"
        },
        "originType" : {
          "$ref" : "#/definitions/enum:hiiretail.contracts.observability.OriginType"
        },
        "timestamp" : {
          "type" : "integer",
          "minimum" : -9223372036854775808,
          "maximum" : 9223372036854775807
        },
        "sequenceId" : {
          "default" : null,
          "oneOf" : [ {
            "type" : "null"
          }, {
            "type" : "string"
          } ]
        },
        "reason" : {
          "default" : null,
          "oneOf" : [ {
            "type" : "null"
          }, {
            "type" : "string"
          } ]
        }
      }
    },
    "enum:hiiretail.contracts.observability.OriginType" : {
      "enum" : [ "INPUT_API", "PROCESSING_SERVICE", "MOBILE_APP", "POS", "IN_STORE_SERVICE", "DATABASE" ]
    }
  }
}